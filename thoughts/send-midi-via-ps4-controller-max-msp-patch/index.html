<!doctype html><html lang=en class=has-navbar-fixed-top><head><meta charset=utf-8><title>Sending MIDI via PS4 controller using Max HI object // in love with audio and MIDI since 1999</title>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Guide to using a PS4 controller with Max to control a Digitone synthesizer via MIDI CC messages for sound design."><meta name=keywords content="Max patch,PS4 controller,MIDI CC messages,Digitone synthesizer,Cycling74,human interface device,route object,ctlout object,send object,sound design"><meta property="og:title" content="Sending MIDI via PS4 controller using Max HI object"><meta property="og:type" content="article"><meta property="og:url" content="https://audio.ooo/thoughts/send-midi-via-ps4-controller-max-msp-patch/"><meta property="og:description" content="Guide to using a PS4 controller with Max to control a Digitone synthesizer via MIDI CC messages for sound design."><meta property="og:site_name" content="audio.ooo"><meta name=google-site-verification content="REgG4I-DhlS9raB6978SUzzOILfVU4j2HcReGanV0jM"><script>document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("interactive-image");e.onclick=function(){shakeImage(e)},setInterval(function(){shakeImage(e)},Math.floor(Math.random()*1e4)+1e4)});function shakeImage(e){e.classList.add("shake"),setTimeout(function(){e.classList.remove("shake")},500)}</script><link rel=alternate type=application/rss+xml href=https://audio.ooo/index.xml><link rel=stylesheet href=https://audio.ooo/css/main.min.753408b11756ddd614e2924f0bc5fa1f47f8ecb1c00b47bb5f217c9a9747d467.css><link rel=canonical href=https://audio.ooo/thoughts/send-midi-via-ps4-controller-max-msp-patch/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"></head><body><header><nav class="navbar is-fixed-top" role=navigation aria-label="main navigation"><div id=navbarBasicExample class=navbar-brand><a class="navbar-item center" href=/>AUDIO.OOO
</a><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><a class="navbar-item center" href=/software>SOFTWARE & APPS
    </a><a class="navbar-item center" href=/packs>SOUNDS, PACKS & NOISE
    </a><a class="navbar-item center" href=/thoughts>THOUGHTS</a></div></nav><script>document.addEventListener("DOMContentLoaded",()=>{const e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")})})})</script></header><div id=main class=oihac-main><div class="container is-fluid"><section><div class=container><div class=top-breadcrumb><nav class="breadcrumb has-dot-separator is-centered" aria-label=breadcrumbs><ul><li><a href=https://audio.ooo/>audio.ooo</a></li><li><a href=https://audio.ooo/thoughts/>thoughts</a></li><li class=is-active><a href=# aria-current=page>Sending MIDI via PS4 controller using Max HI object</a></li></ul></nav></div><div class=columns><div class="column is-one-third"><div class=article-sidebar><nav id=TableOfContents><ul><li><ul><li><a href=#setting-up-the-ps4-controller-in-max>Setting Up the PS4 Controller in Max</a></li><li><a href=#routing-controller-data>Routing Controller Data</a></li><li><a href=#sending-midi-to-the-synthesizer>Sending MIDI to the Synthesizer</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#patch-code>Patch Code</a></li></ul></li></ul></nav></div></div><div class=column><div id=article-body class="col-sm-9 col-sm-push-3 doc"><h1 itemprop=headline class="has-text-centered is-size-2-mobile">Sending MIDI via PS4 controller using Max HI object</h1><p>This guide provides instructions on how to create a Max patch using Cycling74&rsquo;s Max application to interface a PS4 controller with a Digitone FM synthesizer via MIDI CC messages and the hi object. The patch will capture controller inputs, map these to MIDI CC messages, and control the synthesizer parameters in real-time.</p><h2 id=setting-up-the-ps4-controller-in-max>Setting Up the PS4 Controller in Max</h2><p>To start, you&rsquo;ll need to establish a connection between your PS4 controller and Max. This is done using the <a href=https://docs.cycling74.com/max8/refpages/hi><code>hi</code></a> object, which handles human interface device inputs.</p><hr><p><strong>Note</strong>: In Max version 8.6.0 Cycling 74 introduced the <a href=https://docs.cycling74.com/max8/refpages/gamepad><code>gamepad</code></a> object which makes it easier to connect to gamepads. But this version here still uses the <code>hi</code> object, which is still relevant.</p><hr><h3 id=steps>Steps:</h3><ul><li>Create a new patcher in Max.</li><li>Add the <code>hi</code> object to your patch.</li><li>Click on the <code>hi</code> object to open a dropdown menu and select your PS4 controller from the list of available devices.</li><li>Confirm the connection by sending a <code>bang</code> to the <code>hi</code> object, which should output the controller&rsquo;s data stream.</li></ul><h2 id=routing-controller-data>Routing Controller Data</h2><p>Once the PS4 controller is connected, you need to route the specific button and joystick messages to corresponding actions using the <code>route</code> object.</p><h3 id=steps-1>Steps:</h3><ul><li>Connect the output of the <code>hi</code> object to a <code>route</code> object.</li><li>Use the <code>route</code> object to filter messages based on specific controller elements (e.g., buttons, joysticks).</li><li>Each output of the <code>route</code> object should connect to a <code>send</code> object labeled with a meaningful name (e.g., <code>send button1</code>, <code>send axisX</code>).</li></ul><p>For example outputs the PS4 controller the number <code>92</code> when the SQUARE is pressed. This one is then routed to a <code>send square</code> in my patch.</p><p>This sends then goes into a outlet and can be either used from the outlet in the parent patch or the parent patch can use the <code>r square</code> receive object to handle the interaction.</p><p><img src=max-msp-ps4-hi.png alt="The PS4 sub patch to handle the Controller signals"></p><h2 id=sending-midi-to-the-synthesizer>Sending MIDI to the Synthesizer</h2><p>Finally, convert the routed controller data into MIDI CC messages to control the Digitone synthesizer.</p><p>Yes, in my case I will use the 2018 Elektron synthesizere Digitone.</p><p>I will just use the 2 sticks to control some paramters and the 4 main buttons to mute and unmute the tracks T1-T4.</p><p><img src=max-msp-hi-ps4-connect.png alt="The parent patch sending MIDI to Digitone"></p><h3 id=steps-2>Steps:</h3><ul><li>Create <code>ctlout</code> objects to send MIDI control change messages.</li><li>Use the outputs from your <code>send</code> objects to control the <code>ctlout</code> objects, specifying the channel, controller number, and value parameters.</li><li>Configure <code>ctlout</code> to match the MIDI CC specifications of your Digitone FM synthesizer for the desired parameters (like filter cutoff, resonance, etc.).</li></ul><h2 id=conclusion>Conclusion</h2><p>By following these steps, you can use your PS4 controller to interactively control parameters on your Digitone FM synthesizer through Max. Experiment with different controller elements and MIDI mappings to explore new sound design possibilities.</p><h2 id=patch-code>Patch Code</h2><p>I have uploaded the patch code recently to Github and it is available here.</p><p><a href=https://github.com/audiooooooo/max-patches-human-interface/tree/main/MAX-MSP-PS4>Max PS4 patch on GitHub</a></p><hr><div class="timeline-container columns is-multiline is-tablet is-vcentered"><div class=column><div class=timeline-box><div class=date>April 1, 2015</div><div class=subtext>ðŸš§ thought drafted</div></div></div><div class=column><div class=timeline-box><div class=date>April 1, 2015</div><div class=subtext>ðŸŒŽ published</div></div></div><div class=column><div class=timeline-box><div class=date>Friday, May 10, 2024</div><div class=subtext>ðŸ”¨ last modified</div></div></div></div></div></div></div></div></section></div></div><footer class=has-text-centered><p>Ever wondered who's behind the scenes of <strong>audio.ooo</strong>? Well, it's someone who's been madly in love with audio and MIDI since 1999 - talk about a long-term relationship! For more thrilling tales and less thrilling legalities, check out our <a href=/blabla/imprint>Imprint</a> or our <a href=/blabla/privacy>Privacy Statement</a>. And because we're hip and happening, catch us oversharing on <a href=https://www.instagram.com/audiooooooooooooo/>Instagram</a>. Now, back to our regularly scheduled programming of bleeps and bloops.</p></footer><div class=container><div class=image-container><img class=custom-image src=/cat-with-tail.png onclick=shakeImage(this) id=interactive-image></div><div class="header-title has-text-centered">in love with audio & MIDI since 1999
   </div></div></body></html>